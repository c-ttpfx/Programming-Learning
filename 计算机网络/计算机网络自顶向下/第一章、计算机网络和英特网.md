# 1.1 什么是因特网

## 1.1.1具体构成描述

英特网是一个世界范围的计算机网络，是一个互联了遍及全世界设备数十亿的网络

所有设备都被称为**主机**或者**端系统**。端系统通过**通信链路**和分组交换机连接到一起，最著名的两种交换机类型是**路由器**和**链路层交换机**。端系统通过**ISP（英特网服务提供商）**接入因特网，ISP自身就是一个由多台分组交换机组和多端通信链路组成的网络。

英特网标准是由英特网工作任务组（Internet Engineering Task Force，ITTF）研发。ITTF的标准文档被称为请求评论（Request For Comment，RFC）。

## 1.1.2服务描述

与因特网相连的端系统提供了一个套接字接口，该接口规定了运行在一个端系统上的程序请求因特网基础设施向运行在另一个端系统上的特定目的地程序交付数据的方式。

## 1.1.3 什么是协议

协议定义了在两个或多个通信实体之间交换的报文的格式和顺序，以及报文发送和/或接收一条报文或其他事件所采取的动作

# 1.2 网络边缘

通常把与因特网相连的计算机和其他设备称为端系统（主机）。因特网的端系统包括了桌面计算机、服务器和移动计算机

## 1.2.1接入网

接入网是指将端系统物理连接到其他边缘路由器的网络，边缘路由器是端系统到其他任何远程端系统的路径上的第一台路由器

1. 家庭接入：DSL、电缆、FTTH、拨号和卫星
2. 企业(和家庭)接入：以太网和WiFi

## 1.2.2物理媒体

物理媒体可以传播电磁或光脉冲来发送比特。物理媒体分成两种类型：**导引型媒体**(电波沿着固体媒体前行)和**非导引型媒体**(电波在空气或外层空间中传播)

* 双绞铜线：最便宜并且最常用的导引型传输媒体
* 同轴电缆：与双绞线类似，但是这两个导体是同心的而不是并行的。同轴电缆能够被用作导引型共享媒体
* 光纤：光纤是一种细而柔软的材料，能够导引光脉冲的媒体，每个脉冲就是一个比特，可以用作长途导引型传输媒体
* 陆地无线电信道：无线电信道承载电磁频谱中的信号，极大依赖传播环境和信号传输的距离
* 卫星无线电信道：一颗卫星连接地球上的两个或多个微波发射器/接收器。它们被称为地面站

# 1.3 网络核心

网络核心就是由互联因特网端系统的分组交换机和链路构成的网状网络

## 1.3.1 分组交换

端系统彼此交换的信息叫做报文，将源长报文划分为多个小数据块称为分组，分组通过通信链路和分组交换机（路由器和链路层交换机）传送

1. 存储转发：交换机开始向输出链路传输该分组的第一个比特之前，必须接收到整个分组
2. 排队延时和丢包：链路可能在处理其他分组，当前分组必须在缓存中等待，存在排队时延。缓存可能会慢，可能会出现丢包现象

3. 转发表和路由选择协议：路由器具有一个转发表，可以将目的地址（或目的地址一部分）映射为输出链路。路由选择协议可以决定每台路由器到每个目的地地址的最短路径，并且使用这些最短路径来配置转发表

## 1.3.2 电路交换

在电路交换网络中，在端系统通信会话期间，预留了端系统间沿路径通信所需的资源。如果存在n条电路，那么只能获得实际链路传输容量的1/n

电路交换中的复用

* 时分复用（Time Division Multiplexing，TDM）：时分复用将时间划分为若干个时隙，每个时隙分配给不同的信号或通道。
* 频分复用（Frequency Division Multiplexing，FDM）：频分复用将频谱划分为多个不重叠的频段，每个频段分配给不同的信号或通道。
* 波分复用（Wavelength Division Multiplexing，WDM）：波分复用将光信号的不同波长用于传输不同的信号或通道。

## 1.3.3 网络的网络

ISP之间相互互联

# 1.4 分组交换网中的时延、丢包和吞吐量

网络传输存在时延、丢包等各种问题

## 1.4.1 分组交换网中的时延概述

分组在沿途的每个节点经受了几种不同类型的时延，最重要的是**节点处理时延**、**排队时延**、**传输时延**和**传播时延**，累计加起来就是**节点总时延**

* 处理时延：检查分组首部和决定将该分组导向何处所需要的时间是处理时延的一部分
* 排队时延：在队列中，当分组在链路上等待传输时，它经受排队时延
* 传输时延：L表示该分组长度，R bps为传输数量，那么传输时延为L/R。就是将所有分组比特推向链路的时间
* 传播时延：从该链路起点到下一个路由器传播所需时间

## 1.4.2 排队时延和丢包

排队时延取决于当前网络的拥塞程度

丢包：当路由器缓存队列满的时候，就会丢弃到达分组，这样就产生了丢包

## 1.4.3 端到端时延

就是将各个时延累加

## 1.4.4 计算机网络中的吞吐量

吐量用于衡量网络的数据传输能力或带宽利用率。它表示网络在单位时间内能够传输的数据量。例如，一个网络链路的吞吐量为100 Mbps表示该链路每秒能够传输100兆比特的数据。

# 1.5 协议层次及其服务模型

网络存在分层概念

## 1.5.1 分层体系结构

对网络协议进行协议分成，协议分层具有概念化和结构化的优点，缺点一层可能会冗余较低层的功能。

各层的所有协议被称为协议栈。因特网的协议栈由5个层次组成：**物理层、链路层、网络层、运输层、应用层**

OSI模型（Open Systems Interconnection Model）是一个用于描述计算机网络体系结构的参考模型。它由国际标准化组织（ISO）提出，并于1984年发布。OSI模型将网络通信过程分解为七个层次，每个层次负责特定的功能和协议。

以下是OSI模型的七个层次：

1. 物理层（Physical Layer）：物理层是最底层的层次，负责处理网络中的物理连接和传输媒介，如电缆、光纤、无线信道等。它定义了数据的传输方式、电气特性、物理接口等。
2. 数据链路层（Data Link Layer）：数据链路层在物理层之上，负责数据的帧封装、错误检测和纠正，以及对物理连接的访问控制。它将原始比特流组织为数据帧，并提供可靠的点对点数据传输。
3. 网络层（Network Layer）：网络层负责在不同网络之间进行数据包的路由和转发。它将数据包从源主机传送到目标主机，使用路由选择算法确定最佳路径，并处理数据包的拆分和重组。
4. 传输层（Transport Layer）：传输层提供端到端的可靠数据传输服务。它负责将数据分割为较小的数据段，处理数据的流量控制、错误恢复和可靠性，确保数据在源和目标之间的可靠交付。
5. 会话层（Session Layer）：会话层建立、管理和终止会话（Session）或连接。它提供了在不同主机之间进行通信的机制，处理会话的建立、同步和管理。
6. 表示层（Presentation Layer）：表示层负责数据的格式化和转换，确保应用程序之间可以正确解释和理解数据。它处理数据的加密、压缩、编码、解码等操作。
7. 应用层（Application Layer）：应用层是最高层的层次，提供网络服务和应用程序之间的接口。它包括各种应用协议，如HTTP、SMTP、FTP等，用于实现特定的网络应用。

每个层次在OSI模型中都有特定的功能和责任，通过协议栈的方式协同工作，实现端到端的数据通信。OSI模型为不同厂商和技术之间的互操作性提供了一种标准化的参考框架，同时也为网络的设计、实现和故障排除提供了指导。

## 1.5.2 封装

高层会对数据进行处理，然后继续传输给下一层

# 1.6 面对攻击的网络

病毒可能通过网络进入自己的计算机中

DoS拒绝服务攻击（Denial-of-Service（Dos） sttack），DoS攻击使得网络、主机或其他基础设施部分不能由合法用户使用。大多数DoS攻击属于以下内容

* 弱点攻击：向一台目标主机上易受攻击的应用程序或操作系统发送特殊制作的报文，使其停止运行或者崩溃
* 宽带泛洪：向目标主机发送大量分组
* 连接泛洪：创建大量半开或全开TCP连接，使系统无法接受合法连接

分布式DoS（Distributed DoS，DDoS），多个源同时发起攻击

嗅探分组：通过被动的接收机，可以获取传输的副本，这样就能够分析网络传输的信息

人工制造的伪造报文也会在因特网中进行传输，可以进行内容伪造

# 1.7 计算机网络和因特网历史

## 1.7.1 分组交换的发展：1961 ~ 1972

参考[**分组交换的发展**](https://baike.baidu.com/item/%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2%E6%8A%80%E6%9C%AF/3479233)

## 1.7.2 专用网络和网络互联：1972 ~ 1980

参考[专用网络](https://baike.baidu.com/item/%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9C?fromModule=lemma_search-box)，[网络互联](https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94/10501073)

## 1.7.3 网络的激增：1980 ~ 1990

与因特网连接的主机数量大幅度增加

## 1.7.4 因特网爆炸：20世纪90年代

产生了大量的互联网商业公司，互联网高速发展，出现了大量的软件和应用

## 1.7.5 最新发展

参考[最新发展](https://www.techshidai.com/article-505914.html)

# 1.8 小结

这一章主要从宏观层面讲解了计算机网络的各个组成部分，对计算机网络有一个大概的认识

